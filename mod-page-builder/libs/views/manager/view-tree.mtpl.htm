<!-- Pagebuilder/Manage @ TreeList / Records :: v.180605 -->
<link rel="stylesheet" href="lib/js/jquery/jquery.highlight.css" type="text/css">
<script src="lib/js/jquery/jquery.highlight.js"></script>
<script src="lib/js/jquery/tree/simpletree.js"></script>
<style>
.simpletree-toggle, .simpletree-notoggle {
	display: inline-block;
	width: 15px;
}
.simpletree-tree .simpletree-button {
	cursor: pointer;
}
ul.pagebuilder-tree, ul.pagebuilder-tree li {
	list-style-type: none;
}
</style>
<script type="text/javascript">
function pageBuilderFormBtnFilter() {
	jQuery('#filtering').submit();
}
function pageBuilderFormBtnResetFilter() {
	self.location = '[####LIST-BTN-RESET|js####]';
}
</script>
[@@@@SUB-TEMPLATE:view-filter-form.mtpl.inc.htm@@@@]
<script>
	jQuery('#filter-src').val('[####LIST-VAL-SRC|js####]');
	jQuery('#filter-srcby').val('[####LIST-VAL-SRCBY|js####]');
</script>
<ul class="pagebuilder-tree">
	[%%%%LOOP:DATA%%%%]
	<!-- start CTRL: [####DATA._-KEY-_|html####] -->
	<li>
		[%%%%IF:DATA._-KEY-_:!=;%%%%][####DATA._-KEY-_|html####][%%%%ELSE:DATA._-KEY-_%%%%]*** (UNASSIGNED) ***[%%%%/IF:DATA._-KEY-_%%%%]
		[%%%%LOOP:DATA._-VAL-_%%%%]
		<ul>
			<li title="[####DATA._-VAL-_.ID|html####]" id="[####DATA._-VAL-_.HASH-ID|htmid####]" data-simpletree="[####COLLAPSE|html####]">
				<a href="[####LIST-RECORD-URL|html####][####DATA._-VAL-_.ID|url|html####]" data-smart="open.modal">[%%%%IF:DATA._-VAL-_.IMG-TYPE-HTML:!=;%%%%][####DATA._-VAL-_.IMG-TYPE-HTML####][%%%%ELSE:DATA._-VAL-_.IMG-TYPE-HTML%%%%]?[%%%%/IF:DATA._-VAL-_.IMG-TYPE-HTML%%%%]</a> &nbsp; <b>[####DATA._-VAL-_.NAME|html####]</b> :: [####DATA._-VAL-_.ID|html####]
				[%%%%IF:DATA._-VAL-_.REF-CHILDS:@+0;%%%%]
					[%%%%LOOP:DATA._-VAL-_.REF-CHILDS%%%%]
					<ul>
						<li title="[####DATA._-VAL-_.REF-CHILDS.ID|html####]" id="[####DATA._-VAL-_.REF-CHILDS.HASH-ID|htmid####]" data-simpletree="[####COLLAPSE|html####]">
							<a href="[####LIST-RECORD-URL|html####][####DATA._-VAL-_.REF-CHILDS.ID|url|html####]" data-smart="open.modal">[%%%%IF:DATA._-VAL-_.REF-CHILDS.IMG-TYPE-HTML:!=;%%%%][####DATA._-VAL-_.REF-CHILDS.IMG-TYPE-HTML####][%%%%ELSE:DATA._-VAL-_.REF-CHILDS.IMG-TYPE-HTML%%%%]?[%%%%/IF:DATA._-VAL-_.REF-CHILDS.IMG-TYPE-HTML%%%%]</a> &nbsp; <b>[####DATA._-VAL-_.REF-CHILDS.NAME|html####]</b> :: [####DATA._-VAL-_.REF-CHILDS.ID|html####]
							[%%%%IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS:@+0;%%%%]
								[%%%%LOOP:DATA._-VAL-_.REF-CHILDS.REF-CHILDS%%%%]
								<ul>
									<li title="[####DATA._-VAL-_.REF-CHILDS.REF-CHILDS.ID|html####]" id="[####DATA._-VAL-_.REF-CHILDS.REF-CHILDS.HASH-ID|htmid####]" data-simpletree="">
										<a href="[####LIST-RECORD-URL|html####][####DATA._-VAL-_.REF-CHILDS.REF-CHILDS.ID|url|html####]" data-smart="open.modal">[%%%%IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IMG-TYPE-HTML:!=;%%%%][####DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IMG-TYPE-HTML####][%%%%ELSE:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IMG-TYPE-HTML%%%%]?[%%%%/IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS.IMG-TYPE-HTML%%%%]</a> &nbsp; <b>[####DATA._-VAL-_.REF-CHILDS.REF-CHILDS.NAME|html####]</b> :: [####DATA._-VAL-_.REF-CHILDS.REF-CHILDS.ID|html####]
									</li>
								</ul>
								[%%%%/LOOP:DATA._-VAL-_.REF-CHILDS.REF-CHILDS%%%%]
							[%%%%/IF:DATA._-VAL-_.REF-CHILDS.REF-CHILDS%%%%]
						</li>
					</ul>
					[%%%%/LOOP:DATA._-VAL-_.REF-CHILDS%%%%]
				[%%%%/IF:DATA._-VAL-_.REF-CHILDS%%%%]
			</li>
		</ul>
		[%%%%/LOOP:DATA._-VAL-_%%%%]
	</li>
	<!-- end CTRL: [####DATA._-KEY-_|html####] -->
	[%%%%/LOOP:DATA%%%%]
</ul>
<script type="text/javascript">
	[%%%%IF:FILTER:@+0;%%%%]
		[%%%%LOOP:FILTER%%%%]
		jQuery('li').highlight('[####FILTER.ID|js####]', 'jqtxthighlight');
		[%%%%/LOOP:FILTER%%%%]
		jQuery('span.jqtxthighlight').parents('li').attr('data-simpletree', '');
	[%%%%ELSE:FILTER%%%%]
		// no highlights
	[%%%%/IF:FILTER%%%%]
</script>
<script>
	jQuery('ul.pagebuilder-tree').simpletree({
		useAnimation: true,
		signCollapsed: '+',
		signExpanded: '-'
	});
</script>
<!-- #END -->