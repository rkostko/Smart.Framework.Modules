<!DOCTYPE html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>Gantt Chart - Demo</title>
	<script src="../../../../../lib/js/jquery/jquery.js" type="text/javascript"></script>

	<link rel="stylesheet" href="../skins/dhtmlxgantt_terrace.css" type="text/css" media="screen">
	<script type="text/javascript" src="../dhtmlxgantt.js"></script>
	<script type="text/javascript" src="../ext/dhtmlxgantt_marker.js"></script><!-- optional extension -->
	<script type="text/javascript" src="../ext/dhtmlxgantt_tooltip.js"></script><!-- optional extension -->
	<script type="text/javascript" src="../ext/dhtmlxgantt_quick_info.js"></script><!-- optional extension -->

	<script type="text/javascript" src="testdata.js"></script>
	<style type="text/css">
		body {
			margin-top: 10px;
			text-align: center;
			font-size: 13px;
			font-family: Tahoma,Verdana,Arial,sans-serif;
		}
		.weekend {
			background: #F4F7F4;
		}
		.gantt_selected .weekend {
			background: #F7EB91;
		}
		#mygantt {
			text-align: left;
			width: 99%;
			height: 90%;
			min-height: 80%;
			position: absolute;
			top: 55px;
			left: 5px;
		}
	</style>

</head>
<body>
<h1>Gantt Chart - Demo</h1>
<div align="center">
	<div id="mygantt"></div>
	<script type="text/javascript">

//-- test marker extension
var markerId = gantt.addMarker({
	start_date: new Date(2017, 4, 7), //a Date object that sets the marker's date
	css: "today", //a CSS class applied to the marker
	text: "Now", //the marker title
	title: 'Today' // the marker's tooltip
});
gantt.getMarker(markerId);
//--

		gantt.templates.rightside_text = function(start, end, task){
			if(task.type == gantt.config.types.milestone){
				return task.text;
			}
			return "";
		}

		/*
		gantt.config.date_grid = "%m-%d-%Y";
		gantt.config.api_date = "%m-%d-%Y %H:%i";
		gantt.config.xml_date = "%m,%d,%Y";
		gantt.config.work_time = true;
		gantt.config.correct_work_time = true;
		gantt.config.details_on_create = false;
		gantt.config.scale_unit = "day";
		gantt.config.duration_unit = "day";
		gantt.config.date_scale = "%d";
		gantt.config.subscales = [
			{unit:"month", step:1, date:"%F, %Y"}
		];
		gantt.config.scale_height = 50;
		gantt.config.row_height = 30;
		gantt.config.min_column_width = 30;
		*/

		/*
		gantt.attachEvent("onTaskClick", function(id, e) {
			alert("You've just clicked an item with id="+id);
		});
		gantt.attachEvent("onTaskDblClick", function(id, e) {
			alert("You've just double clicked an item with id="+id);
		});
		*/

		/*
		gantt.config.grid_width = 0;
		gantt.config.lightbox.sections = [
				{name: "description", height: 38, map_to: "text", type: "textarea", focus: true},
				{name: "parent", type:"parent", allow_root:"true", root_label:"No parent", filter: function(id, task){
				//	if(task.$level > 1){
				//		return false;
				//	}else{
				//		return true;
				//	}
					return true;
				}},

				{name: "time", height: 72, type: "time", map_to: "auto", time_format:["%d", "%m", "%Y", "%H:%i"]}
			];
		*/

		$("#mygantt").dhx_gantt({
			data: demo_tasks,
			//grid_width: 0, // disable right grid
			//scale_unit: "week",
			//step:1,
			//date_scale: "%d"
		}); // .load("data.json")

		/* alternate init (without jQuery)
		gantt.init("mygantt");
		//gantt.load("data.json", "json");
		gantt.parse(demo_tasks);
		*/

	</script>
</div>
<button onClick="console.log(gantt.serialize());" style="position:fixed; top:15px; right:105px;">Save Data (view console)</button>
</body>